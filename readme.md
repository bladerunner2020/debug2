# Модуль debug2 для проектов в iRidium mobile

Модуль предназначен для замены **IR.Log** и для отладочной информации в панельных и серверных проектах [iRidium mobile](http://www.iridi.com).
Модуль может использоваться совместно с модулями **DebugConsole** (в панельных проектах) и **SyslogServer** (в панельных и серверных проектах).

Модуль позволяет добавлять к проекту одну или несколько консолей для вывода сообщений, что позволяет гибко управлять сообщениями.
Например, можно перенаправить сообщения в базу данных для серверного проекта, использовать **DebugConsole** и т.д.


## Установка и настройка

**Добавьте модуль в проект**

Если используется grunt-скрипт [Irdiium Project Builder](https://github.com/bladerunner2020/iridium-project-builder)
для автоматического построения проектов, то для установки модуля нужно использовать команду:

```
npm install https://github.com/bladerunner2020/debug2.git --save
```

В противном случае просто скопируйте код из **index.js** в ваш irpz-проект.

## Иннициализация модуля

Модуль инициализируются автоматически и в нем создается глобальная переменная **_DEBUGGER**, но для того чтобы
информацию могла выводиться нужно добавить отладочную консоль:

```javascript
_DEBUGGER.addConsole(new SimpleDebugConsole())
```
**SimpleDebugConsole** позволяет выводить сообщения в консоль iRidium, используя **IR.Log**.

В случае использования модуля [DebugConsole](https://github.com/bladerunner2020/debug-console), инициализация будет такой:

```javascript
_DEBUGGER.addConsole(new DebugConsole({lineCount: 25, debugPage: 'DebugPopup'}));
```

## Использование модуля

Для вывода отладочной информации следует использовать функции: **_Debug**, **_Log**, **_Error**.

Формат вызова:

```javascript
_Debug('some message', 'source');
```

**source** - необязательный аргумент. Его использование упрощает определение из какого модуля/функции был произведен вызов.
Также возможно включать фильтрацию вывода по источникам.

## Фильтрация сообщений

Можно включать и выключать фильтрацию сообщений по источнику.

```javascript
_DEBUGGER
    .disable('myFunction1')
    .disable('myFunction2');

// некоторый код

_DEBUGGER
    .enable('myFunction1');
```

При фильтрации таким способом сообщения не попадают в консоль и не могут быть отображены.



## Авторы

* Александр Пивоваров aka Bladerunner2020 ([pivovarov@gmail.com](mailto:pivovarov@gmail.com))

## Лицензия
Copyright (c) 2018 Александр Пивоваров

Данная лицензия разрешает лицам, получившим копию данного программного обеспечения и сопутствующей документации (в дальнейшем именуемыми «Программное Обеспечение»), безвозмездно использовать Программное Обеспечение без ограничений, включая неограниченное право на использование, копирование, изменение, слияние, публикацию, распространение, сублицензирование и/или продажу копий Программного Обеспечения, а также лицам, которым предоставляется данное Программное Обеспечение, при соблюдении следующих условий:

Указанное выше уведомление об авторском праве и данные условия должны быть включены во все копии или значимые части данного Программного Обеспечения.

ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ «КАК ЕСТЬ», БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ, ЯВНО ВЫРАЖЕННЫХ ИЛИ ПОДРАЗУМЕВАЕМЫХ, ВКЛЮЧАЯ ГАРАНТИИ ТОВАРНОЙ ПРИГОДНОСТИ, СООТВЕТСТВИЯ ПО ЕГО КОНКРЕТНОМУ НАЗНАЧЕНИЮ И ОТСУТСТВИЯ НАРУШЕНИЙ, НО НЕ ОГРАНИЧИВАЯСЬ ИМИ. НИ В КАКОМ СЛУЧАЕ АВТОРЫ ИЛИ ПРАВООБЛАДАТЕЛИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ ПО КАКИМ-ЛИБО ИСКАМ, ЗА УЩЕРБ ИЛИ ПО ИНЫМ ТРЕБОВАНИЯМ, В ТОМ ЧИСЛЕ, ПРИ ДЕЙСТВИИ КОНТРАКТА, ДЕЛИКТЕ ИЛИ ИНОЙ СИТУАЦИИ, ВОЗНИКШИМ ИЗ-ЗА ИСПОЛЬЗОВАНИЯ ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ ИЛИ ИНЫХ ДЕЙСТВИЙ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ.
